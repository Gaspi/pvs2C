arrays : THEORY
BEGIN
  

% Arithmetic

  Arr  : TYPE = [below(10) -> below(12) ]
  Arr2 : TYPE = [below(10) -> [below(12) -> below(14)] ]

  a:below(10) = 8
  
  b:Arr = lambda (x:below(10)) : x

  incr(t:Arr) : Arr = t with [ (t(0)) := t(9) ]

%  foo(t:Arr) : Arr = t with [ (0) :=  0 + 1]
   foo(t:Arr) : Arr = t with [ (0) := t(9) + 1, (t(0)) :=  t(0) + 1 ]

   bar(t:Arr2) : Arr2 = LET a = t with [ (0)(0) := 0 ] in a
END arrays
